{"version":3,"sources":["utils.ts","App.tsx","index.tsx"],"names":["sortContributorsFunc","field","order","a","b","toggleSortOrder","current","Grid","styled","div","Wrapper","ButtonsWrapper","PagesWrapper","form","Button","button","Table","table","Avatar","img","App","useState","contributors","setContributors","loading","setLoading","sortBy","setSortBy","loginSortOrder","setLoginSortOrder","contributorsSortOrder","setContributorsSortOrder","page","setPage","prevPage","setPrevPage","nextPage","setNextPage","lastPage","setLastPage","pageInput","setPageInput","perPage","setPerPage","useEffect","axios","get","data","headers","link","parseLinkHeader","Number","prev","next","last","fetchContributors","sortedContributors","sort","sortContributors","disabled","onClick","onSubmit","e","preventDefault","type","value","min","max","onChange","target","className","map","contributor","src","avatar_url","alt","href","login","rel","contributions","id","GlobalStyles","createGlobalStyle","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.4684ccf7.chunk.js","sourcesContent":["import { Contributor, SortOrder } from \"./types\";\n\nexport const sortContributorsFunc = (\n  field: keyof Contributor,\n  order: SortOrder,\n  a: Contributor,\n  b: Contributor\n) => {\n  if (order === \"asc\") {\n    if (a[field] < b[field]) {\n      return -1;\n    }\n    if (a[field] > b[field]) {\n      return 1;\n    }\n  }\n\n  if (order === \"des\") {\n    if (a[field] > b[field]) {\n      return -1;\n    }\n    if (a[field] < b[field]) {\n      return 1;\n    }\n  }\n\n  return 0;\n};\n\nexport const toggleSortOrder = (current: SortOrder) =>\n  current === \"asc\" ? \"des\" : \"asc\";\n","import React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport styled from \"styled-components/macro\";\nimport parseLinkHeader from \"parse-link-header\";\nimport { SortOrder, SortBy, Contributor } from \"./types\";\nimport {\n  sortContributorsFunc as sortContributors,\n  toggleSortOrder,\n} from \"./utils\";\n\nconst Grid = styled.div`\n  display: grid;\n  grid-gap: 20px;\n  justify-content: center;\n`;\n\nconst Wrapper = styled(Grid)`\n  padding: 20px;\n`;\n\nconst ButtonsWrapper = styled(Grid)`\n  grid-template-columns: repeat(4, min-content);\n`;\n\nconst PagesWrapper = styled.form`\n  display: flex;\n  align-items: center;\n\n  input {\n    align-self: stretch;\n    text-align: center;\n  }\n`;\n\nconst Button = styled.button`\n  background-color: transparent;\n  border: 1px solid tomato;\n  border-radius: 3px;\n  color: tomato;\n  padding: 15px 80px;\n  cursor: pointer;\n  text-transform: uppercase;\n  transition: all 0.2s;\n\n  &:hover:not(:disabled) {\n    background-color: rgba(255, 99, 71, 0.1);\n  }\n\n  &:disabled {\n    color: #777;\n    border-color: #777;\n    cursor: default;\n  }\n`;\n\nconst Table = styled.table`\n  th,\n  td {\n    width: 200px;\n    text-align: center;\n  }\n\n  th {\n    padding: 10px 0;\n\n    &:not(:first-of-type) {\n      background-color: #777;\n      color: #fff;\n      cursor: pointer;\n\n      // set symbol according to column sorting order\n      &:not(.none) {\n        &::before {\n          content: \"\\\\2191\";\n          margin-right: 3px;\n        }\n\n        &.asc {\n          &::before {\n            content: \"\\\\2193\";\n          }\n        }\n      }\n    }\n  }\n`;\n\nconst Avatar = styled.img`\n  width: 50px;\n  border-radius: 50%;\n`;\n\nexport const App: React.FC = () => {\n  const [contributors, setContributors] = useState<Contributor[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [sortBy, setSortBy] = useState<SortBy>(\"none\");\n  const [loginSortOrder, setLoginSortOrder] = useState<SortOrder>(\"none\");\n  const [contributorsSortOrder, setContributorsSortOrder] =\n    useState<SortOrder>(\"none\");\n  const [page, setPage] = useState(1);\n  const [prevPage, setPrevPage] = useState(-1);\n  const [nextPage, setNextPage] = useState(-1);\n  const [lastPage, setLastPage] = useState(page);\n  const [pageInput, setPageInput] = useState(page);\n  const [perPage, setPerPage] = useState(25);\n\n  useEffect(() => {\n    const fetchContributors = async () => {\n      setLoading(true);\n      const { data, headers } = await axios.get<Contributor[]>(\n        `https://api.github.com/repos/facebook/react/contributors?page=${page}&per_page=${perPage}`\n      );\n      const link = parseLinkHeader(headers.link);\n      setPrevPage(Number(link?.prev?.page) || -1);\n      setNextPage(Number(link?.next?.page) || -1);\n      setLastPage(Number(link?.last?.page) || page);\n      setContributors(data);\n      setLoading(false);\n    };\n    fetchContributors();\n  }, [page, perPage]);\n\n  let sortedContributors = contributors;\n  switch (sortBy) {\n    case \"login\":\n      sortedContributors = contributors.sort((a, b) =>\n        sortContributors(\"login\", loginSortOrder, a, b)\n      );\n      break;\n    case \"contributions\":\n      sortedContributors = contributors.sort((a, b) =>\n        sortContributors(\"contributions\", contributorsSortOrder, a, b)\n      );\n      break;\n  }\n\n  return (\n    <Wrapper>\n      <ButtonsWrapper>\n        <Button\n          disabled={prevPage === -1}\n          onClick={() => {\n            setPage(prevPage);\n            setPageInput(prevPage);\n          }}\n        >\n          Prev\n        </Button>\n        <Button\n          disabled={nextPage === -1}\n          onClick={() => {\n            setPage(nextPage);\n            setPageInput(nextPage);\n          }}\n        >\n          Next\n        </Button>\n\n        <PagesWrapper\n          onSubmit={(e) => {\n            e.preventDefault();\n            setPage(pageInput);\n          }}\n        >\n          <input\n            type=\"number\"\n            value={pageInput}\n            min=\"1\"\n            max={lastPage}\n            onChange={(e) => setPageInput(Number(e.target.value))}\n          />\n          <span>&nbsp;/&nbsp;</span>\n          <span>{lastPage}</span>\n        </PagesWrapper>\n\n        <select\n          value={perPage}\n          onChange={(e) => setPerPage(Number(e.target.value))}\n        >\n          <option value={25}>25</option>\n          <option value={50}>50</option>\n          <option value={75}>75</option>\n          <option value={100}>100</option>\n        </select>\n      </ButtonsWrapper>\n\n      {loading && <div>Loading...</div>}\n\n      <Table>\n        <thead>\n          <tr>\n            <th></th>\n            <th\n              className={loginSortOrder}\n              onClick={() => {\n                setLoginSortOrder(toggleSortOrder);\n                setSortBy(\"login\");\n              }}\n            >\n              Username\n            </th>\n            <th\n              className={contributorsSortOrder}\n              onClick={() => {\n                setContributorsSortOrder(toggleSortOrder);\n                setSortBy(\"contributions\");\n              }}\n            >\n              Contributions\n            </th>\n          </tr>\n        </thead>\n        <tbody>\n          {sortedContributors.map((contributor) => (\n            <tr key={contributor.id}>\n              <td>\n                <Avatar src={contributor.avatar_url} alt=\"avatar\" />\n              </td>\n              <td>\n                <a\n                  href={`https://github.com/${contributor.login}`}\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                >\n                  {contributor.login}\n                </a>\n              </td>\n              <td>{contributor.contributions}</td>\n            </tr>\n          ))}\n        </tbody>\n      </Table>\n    </Wrapper>\n  );\n};\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { createGlobalStyle } from \"styled-components\";\nimport { App } from \"./App\";\n\nconst GlobalStyles = createGlobalStyle`\n  * {\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n  }\n\n  body {\n    font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", \"Roboto\",\n      \"Oxygen\", \"Ubuntu\", \"Cantarell\", \"Fira Sans\", \"Droid Sans\",\n      \"Helvetica Neue\", sans-serif;\n  }\n`;\n\nReactDOM.render(\n  <React.StrictMode>\n    <GlobalStyles />\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}